-- Create fournisseurs table if it doesn't exist
CREATE TABLE IF NOT EXISTS `fournisseurs` (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(255) NOT NULL,
    ice VARCHAR(255) NOT NULL,
    rc VARCHAR(255) NOT NULL,
    telephone VARCHAR(50),
    email VARCHAR(255),
    adresse TEXT,
    ville VARCHAR(100),
    pays VARCHAR(100),
    code_postal VARCHAR(20),
    statut ENUM('actif', 'inactif', 'suspendu') DEFAULT 'actif',
    date_creation TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    date_modification TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    notes TEXT,
    contact_personne VARCHAR(255),
    delai_livraison INT DEFAULT 30,
    conditions_paiement TEXT,
    rib VARCHAR(34),
    banque VARCHAR(100),
    iban VARCHAR(34),
    swift VARCHAR(11),
    devise VARCHAR(10) DEFAULT 'MAD'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- Add indexes for better performance
CREATE INDEX IF NOT EXISTS idx_fournisseurs_nom ON fournisseurs(nom);
CREATE INDEX IF NOT EXISTS idx_fournisseurs_ice ON fournisseurs(ice);
CREATE INDEX IF NOT EXISTS idx_fournisseurs_statut ON fournisseurs(statut);
CREATE INDEX IF NOT EXISTS idx_fournisseurs_date_creation ON fournisseurs(date_creation);

-- Insert sample supplier data if table is empty
INSERT IGNORE INTO fournisseurs (nom, ice, rc, telephone, email, adresse, ville, pays, code_postal, statut, contact_personne, delai_livraison, conditions_paiement, rib, banque, iban, swift, devise) VALUES
('ALLIANCE AUTO PARTS', 'ALLIANCE2023', 'ALLIANCE2023RC', '0522-123456', 'contact@alliance.ma', '123 Avenue Hassan II, Tanger', 'Tanger', 'Maroc', '90000', 'actif', 'Mohamed Ali', 30, '30 jours fin de mois', '123456789012345678901234567890', 'BMCE', 'MA000123456789012345678901234567890', 'BMCEMA', 'MAD'),
('AUTO PIECES MAROC', 'AUTO2023', 'AUTO2023RC', '0522-789012', 'info@autopieces.ma', '456 Boulevard Mohammed V, Casablanca', 'Casablanca', 'Maroc', '20000', 'actif', 'Fatima Zahra', 45, '60 jours fin de mois', '9876543210987654321098765432109', 'CIH', 'MA0009876543210987654321098765432109', 'CIHMA', 'MAD'),
('MECANIC PRO SERVICES', 'MECA2023', 'MECA2023RC', '0522-456789', 'support@mecanic.ma', '789 Rue industrielle, Rabat', 'Rabat', 'Maroc', '10100', 'actif', 'Youssef Ahmed', 30, '45 jours fin de mois', '567890123456789012345678901234567890', 'CIH', 'MA000567890123456789012345678901234567890', 'CIHMA', 'MAD'),
('ELECTRONICS SOLUTIONS', 'ELEC2023', 'ELEC2023RC', '0522-345678', 'sales@electronics.ma', '321 Rue des technopoles, Fès', 'Fès', 'Maroc', '30000', 'actif', 'Sara Mohammed', 60, '30 jours fin de mois', '234567890123456789012345678901234567890', 'CIH', 'MA000234567890123456789012345678901234567890', 'CIHMA', 'MAD'),
('HYDRAULIC SYSTEMS', 'HYDR2023', 'HYDR2023RC', '0522-234567', 'info@hydraulic.ma', '654 Rue du port, Agadir', 'Agadir', 'Maroc', '15000', 'actif', 'Karim Omar', 30, '30 jours fin de mois', '3456789012345678901234567890123456789', 'CIH', 'MA0003456789012345678901234567890123456789', 'CIHMA', 'MAD'),
('TRANSPORT LOGISTICS', 'TRAN2023', 'TRAN2023RC', '0522-567890', 'logistics@transport.ma', '987 Avenue Mohammed V, Marrakech', 'Marrakech', 'Maroc', '75000', 'actif', 'Amina Ben', 30, '45 jours fin de mois', '45678901234567890123456678901234567890', 'CIH', 'MA000456789012345678901234567890123456789', 'CIHMA', 'MAD'),
('TIRES & ACCESSORIES', 'TIRES2023', 'TIRES2023RC', '0522-8901234', 'info@tires.ma', '432 Route d\'Essaouira, Essaouira', 'Essaouira', 'Maroc', '50000', 'actif', 'Hassan Ali', 30, '30 jours fin de mois', '567890123456789012345678901234567890', 'CIH', 'MA000567890123456789012345678901234567890', 'CIHMA', 'MAD'),
('OIL & LUBRICANTS', 'OIL2023', 'OIL2023RC', '0522-123456', 'oil@lubricants.ma', '210 Rue industrielle, Oujda', 'Oujda', 'Maroc', '35000', 'actif', 'Brahim Youssef', 30, '60 jours fin de mois', '67890123456789012345678901234567890', 'CIH', 'MA0006789012345678901234567890123456789', 'CIHMA', 'MAD'),
('BATTERY SPECIALIST', 'BATT2023', 'BATT2023RC', '0522-678901', 'batteries@specialist.ma', '543 Rue des artisans, Meknès', 'Meknès', 'Maroc', '25000', 'actif', 'Nadia Karim', 30, '30 jours fin de mois', '789012345678901234567890123456789012', 'CIH', 'MA000789012345678901234567890123456789012', 'CIHMA', 'MAD'),
('PAINT & COATINGS', 'PAINT2023', 'PAINT2023RC', '0522-901234', 'paint@coatings.ma', '321 Rue des artistes, Tétouan', 'Tétouan', 'Maroc', '40000', 'actif', 'Omar Hassan', 30, '45 jours fin de mois', '89012345678901234567890123456789012', 'CIH', 'MA00089012345678901234567890123456789012', 'CIHMA', 'MAD'),
('GLASS & MIRRORS', 'GLASS2023', 'GLASS2023RC', '0522-345678', 'glass@mirrors.ma', '654 Rue du commerce, Safi', 'Safi', 'Maroc', '30000', 'actif', 'Layla Mohamed', 30, '30 jours fin de mois', '9012345678901234567890123456789012', 'CIH', 'MA0009012345678901234567890123456789012', 'CIHMA', 'MAD'),
('SEAT COVERS', 'SEAT2023', 'SEAT2023RC', '0522-567890', 'seats@covers.ma', '432 Route du tourisme, Marrakech', 'Marrakech', 'Maroc', '20000', 'actif', 'Youssef Omar', 30, '30 jours fin de mois', '012345678901234567890123456789012', 'CIH', 'MA000012345678901234567890123456789012', 'CIHMA', 'MAD'),
('BRAKE SYSTEMS', 'BRAKE2023', 'BRAKE2023RC', '0522-234567', 'brakes@systems.ma', '876 Route industrielle, Kenitra', 'Kenitra', 'Maroc', '45000', 'actif', 'Meryem Ahmed', 30, '45 jours fin de mois', '2345678901234567890123456789012', 'CIH', 'MA0002345678901234567890123456789012', 'CIHMA', 'MAD'),
('FILTERS & FILTERS', 'FILT2023', 'FILT2023RC', '0522-890123', 'filters@filters.ma', '543 Rue mécanique, Fès', 'Fès', 'Maroc', '18000', 'actif', 'Khalid Youssef', 30, '30 jours fin de mois', '345678901234567890123456789012', 'CIH', 'MA000345678901234567890123456789012', 'CIHMA', 'MAD'),
('SPARK PLUGS & SENSORS', 'SPARK2023', 'SPARK2023RC', '0522-456789', 'spark@plugs.ma', '654 Rue automobile, Tanger', 'Tanger', 'Maroc', '22000', 'actif', 'Samir Ali', 30, '30 jours fin de mois', '45678901234567890123456789012', 'CIH', 'MA00045678901234567890123456789012', 'CIHMA', 'MAD'),
('EXHAUST SYSTEMS', 'EXHAU2023', 'EXHAU2023RC', '0522-123456', 'exhaust@systems.ma', '321 Route industrielle, Oujda', 'Oujda', 'Maroc', '28000', 'actif', 'Rachid Mohamed', 30, '30 jours fin de mois', '12345678901234567890123456789012', 'COH', 'MA00012345678901234567890123456789012', 'COHMA', 'MAD'),
('COOLING SYSTEMS', 'COOL2023', 'COOL2023RC', '0522-678901', 'cooling@systems.ma', '432 Route climat, Agadir', 'Agadir', 'Maroc', '32000', 'actif', 'Imane Omar', 30, '30 jours fin de mois', '6789012345678901234567890123456789012', 'CIH', 'MA000678901234567890123456789012', 'CIHMA', 'MAD'),
('LIGHTING EQUIPMENT', 'LIGHT2023', 'LIGHT2023RC', '0522-901234', 'lighting@equipment.ma', '210 Rue éclairage, Tétouan', 'Tétouan', 'Maroc', '25000', 'actif', 'Jamal Hassan', 30, '30 jours fin de mois', '9012345678901234567890123456789012', 'CIH', 'MA0009012345678901234567890123456789012', 'CIHMA', 'MAD'),
('ELECTRICAL COMPONENTS', 'ELEC2023', 'ELEC2023RC', '0522-345678', 'components@electrical.ma', '654 Route électronique, Casablanca', 'Casablanca', 'Maroc', '38000', 'actif', 'Zineb Mohamed', 30, '30 jours fin de mois', '345678901234567890123456789012', 'CIH', 'MA000345678901234567890123456789012', 'CIHMA', 'MAD'),
('TOOL & EQUIPMENT', 'TOOL2023', 'TOOL2023RC', '0522-567890', 'tools@equipment.ma', '876 Route des artisans, Meknès', 'Meknès', 'Maroc', '42000', 'actif', 'Fouad Ali', 30, '30 jours fin de mois', '56789012345678901234567890123456789012', 'CIH', 'MA0005678901234567890123456789012', 'CIHMA', 'MAD'),
('CLEANING SUPPLIES', 'CLEAN2023', 'CLEAN2023RC', '0522-123456', 'cleaning@supplies.ma', '432 Route hygiène, Fès', 'Fès', 'Maroc', '15000', 'actif', 'Khadija Youssef', 30, '30 jours fin de mois', '12345678901234567890123456789012', 'CIH', 'MA00012345678901234567890123456789012', 'CIHMA', 'MAD'),
('SAFETY EQUIPMENT', 'SAFE2023', 'SAFE2023RC', '0522-890123', 'safety@equipment.ma', '543 Route sécurité, Tanger', 'Tanger', 'Maroc', '28000', 'actif', 'Abdelkader Omar', 30, '30 jours fin de mois', '89012345678901234567890123456789012', 'CIH', 'MA00089012345678901234567890123456789012', 'CIHMA', 'MAD'),
('OFFICE SUPPLIES', 'OFFICE2023', 'OFFICE2023RC', '0522-456789', 'office@supplies.ma', '321 Route bureau, Casablanca', 'Casablanca', 'Maroc', '12000', 'actif', 'Samir Youssef', 30, '30 jours fin de mois', '45678901234567890123456789012', 'CIH', 'MA00045678901234567890123456789012', 'CIHMA', 'MAD'),
('INDUSTRIAL MACHINES', 'INDU2023', 'INDU2023RC', '0522-234567', 'machines@industrial.ma', '987 Route usine, Kenitra', 'Kenitra', 'Maroc', '85000', 'actif', 'Mohamed Ali', 30, '45 jours fin de mois', '2345678901234567890123456789012', 'CIH', 'MA0002345678901234567890123456789012', 'CONMA', 'MAD'),
('PACKAGING MATERIALS', 'PACK2023', 'PACK2023RC', '0522-678901', 'packaging@materials.ma', '432 Route emballage, Fès', 'Fès', 'Maroc', '18000', 'actif', 'Nadia Ali', 30, '30 jours fin de mois', '6789012345678901234567890123456789012', 'CIH', 'MA000678901234567890123456789012', 'CIHMA', 'MAD'),
('CONSTRUCTION MATERIALS', 'CONS2023', 'CONS2023RC', '0522-901234', 'construction@materials.ma', '654 Route chantier, Marrakech', 'Marrakech', 'Maroc', '95000', 'actif', 'Youssef Omar', 30, '60 jours fin de mois', '9012345678901234567890123456789012', 'CIH', 'MA0009012345678901234567890123456789012', 'CIHMA', 'MAD'),
('MEDICAL EQUIPMENT', 'MEDIC2023', 'MEDIC2023RC', '0522-345678', 'medical@equipment.ma', '321 Route santé, Rabat', 'Rabat', 'Maroc', '75000', 'actif', 'Dr. Karim', 30, '30 jours fin de mois', '12345678901234567890123456789012', 'CIH', 'MA00012345678901234567890123456789012', 'CIHMA', 'MAD'),
('FOOD & BEVERAGE', 'FOOD2023', 'FOOD2023RC', '0522-123456', 'food@beverage.ma', '876 Route alimentaire, Meknès', 'Meknès', 'Maroc', '55000', 'actif', 'Amina Youssef', 30, '30 jours fin de min', '12345678901234567890123456789012', 'CIH', 'MA00012345678901234567890123456789012', 'CIHMA', 'MAD'),
('TEXTILE & FABRICS', 'TEXT2023', 'TEXT2023RC', '0522-567890', 'textile@fabrics.ma', '432 Route textile, Fès', 'Fès', 'Maroc', '32000', 'actif', 'Khadija Mohamed', 30, '30 jours fin de mois', '5678901234567890123456789012', 'CIH', 'MA0005678901234567890123456789012', 'CIHMA', 'MAD'),
('CHEMICAL PRODUCTS', 'CHEM2023', 'CHEM2023RC', '0522-890123', 'chemical@products.ma', '654 Route chimique, Casablanca', 'Casablanca', 'Maroc', '65000', 'actif', 'Omar Hassan', 30, '30 jours fin de mois', '89012345678901234567890123456789012', 'COH', 'MA00089012345678901234567890123456789012', 'COHMA', 'MAD'),
('PHARMACEUTICAL', 'PHARM2023', 'PHARM2023RC', '0522-456789', 'pharma@pharmacie.ma', '210 Rue pharmacie, Casablanca', 'Casablanca', 'Maroc', '45000', 'actif', 'Dr. Fatima', 30, '30 jours fin de mois', '45678901234567890123456789012', 'CIH', 'MA00045678901234567890123456789012', 'CIHMA', 'MAD'),
('EDUCATIONAL SUPPLIES', 'EDUC2023', 'EDUC2023RC', '0522-234567', 'education@supplies.ma', '321 Route éducation, Rabat', 'Rabat', 'Maroc', '28000', 'actif', 'Prof. Ahmed', 30, '30 jours fin de mois', '2345678901234567890123456789012', 'CIH', 'MA0002345678901234567890123456789012', 'CIHMA', 'MAD'),
('SPORTS EQUIPMENT', 'SPORT2023', 'SPORT2023RC', '0522-678901', 'sports@equipment.ma', '876 Route sport, Marrakech', 'Marrakech', 'Maroc', '35000', 'actif', 'Youssef Ali', 30, '30 jours fin de mois', '5678901234567890123456789012', 'CIH', 'MA0005678901234567890123456789012', 'CIHMA', 'MAD'),
('ENTERTAINMENT SYSTEMS', 'ENTER2023', 'ENTER2023RC', '0522-123456', 'entertainment@systems.ma', '654 Route divertissement, Agadir', 'Agadir', 'Maroc', '22000', 'actif', 'Meryem Youssef', 30, '30 jours fin de mois', '12345678901234567890123456789012', 'CIH', 'MA00012345678901234567890123456789012', 'CIHMA', 'MAD'),
('SECURITY SYSTEMS', 'SECUR2023', 'SECUR2023RC', '0522-345678', 'security@systems.ma', '321 Route sécurité, Fès', 'Fès', 'Maroc', '42000', 'actif', 'Abdelkader Omar', 30, '30 jours fin de mois', '2345678901234567890123456789012', 'CIH', 'MA0002345678901234567890123456789012', 'CONMA', 'MAD'),
('TELECOMMUNICATION', 'TELECOM2023', 'TELECOM2023RC', '0522-890123', 'telecom@services.ma', '432 Route communication, Casablanca', 'Casablanca', 'Maroc', '38000', 'actif', 'Hicham Ali', 30, '30 jours fin de mois', '89012345678901234567890123456789012', 'CIH', 'MA00089012345678901234567890123456789012', 'CIHMA', 'MAD'),
('RENEWABLE ENERGY', 'RENEW2023', 'RENEW2023RC', '0522-567890', 'renewable@energy.ma', '654 Route énergie, Oujda', 'Oujda', 'Maroc', '55000', 'actif', 'Samir Ali', 30, '30 jours fin de mois', '5678901234567890123456789012', 'CIH', 'MA0005678901234567890123456789012', 'CIHMA', 'MAD'),
('WASTE MANAGEMENT', 'WASTE2023', 'WASTE2023RC', '0522-123456', 'waste@management.ma', '876 Route gestion, Tanger', 'Tanger', 'Maroc', '18000', 'actif', 'Karim Youssef', 30, '30 jours fin de mois', '12345678901234567890123456789012', 'CIH', 'MA00012345678901234567890123456789012', 'CIH', 'MAMA', 'MAD'),
('LOGISTICS SERVICES', 'LOGIS2023', 'LOGIS2023RC', '0522-234567', 'logistics@services.ma', '987 Route logistique, Kenitra', 'Kenitra', 'Maroc', '35000', 'actif', 'Mohamed Ali', 30, '30 jours fin de mois', '2345678901234567890123456789012', 'CIH', 'MA0002345678901234567890123456789012', 'CONMA', 'MAD'),
('IT CONSULTING', 'IT2023', 'IT2023RC', '0522-456789', 'it@consulting.ma', '321 Route IT, Casablanca', 'Casablanca', 'Maroc', '45000', 'actif', 'Zineb Mohamed', 30, '30 jours fin de mois', '345678901234567890123456789012', 'CIH', 'MA000345678901234567890123456789012', 'CIHMA', 'MAD'),
('LEGAL SERVICES', 'LEGAL2023', 'LEGAL2023RC', '0522-678901', 'legal@services.ma', '432 Route juridique, Rabat', 'Rabat', 'Maroc', '55000', 'actif', 'Dr. Ahmed', 30, '30 jours fin de mois', '6789012345678901234567890123456789012', 'CIH', 'MA0006789012345678901234567890123456789012', 'CIHMA', 'MAD'),
('FINANCIAL SERVICES', 'FINAN2023', 'FINAN2023RC', '0522-890123', 'finance@services.ma', '654 Route finance, Casablanca', 'Casabla', 'Maroc', '65000', 'actif', 'Meryem Ahmed', 30, '30 jours fin de mois', '89012345678901234567890123456789012', 'CIH', 'MA00089012345678901234567890123456789012', 'CIHMA', 'MAD'),
('INSURANCE SERVICES', 'INSUR2023', 'INSUR2023RC', '0522-123456', 'insurance@services.ma', '321 Route assurance, Casablanca', 'Casablanca', 'Maroc', '42000', 'actif', 'Mohamed Ali', 30, '30 jours fin de mois', '12345678901234567890123456789012', 'CIH', 'MA00045678901234567890123456789012', 'CIHMA', 'MAD'),
('MARKETING AGENCIES', 'MARK2023', 'MARK2023RC', '0522-567890', 'marketing@agency.ma', '876 Route marketing, Casablanca', 'Casablanca', 'Maroc', '38000', 'actif', 'Sara Mohammed', 30, '30 jours fin de mois', '5678901234567890123456789012', 'CIH', 'MA0005678901234567890123456789012', 'CIHMA', 'MAD'),
('PRINTING SERVICES', 'PRINT2023', 'PRINT2023RC', '0522-345678', 'printing@services.ma', '432 Route impression, Fès', 'Fès', 'Maroc', '22000', 'actif', 'Hicham Ali', 30, '30 jours fin de mois', '9012345678901234567890123456789012', 'CIH', 'MA0009012345678901234567890123456789012', 'CIHMA', 'MAD'),
('CONSULTING SERVICES', 'CONSUL2023', 'CONSUL2023RC', '0522-234567', 'consulting@services.ma', '654 Route conseil, Rabat', 'Rabat', 'Maroc', '35000', 'actif', 'Youssef Omar', 30, '30 jours fin de mois', '2345678901234567890123456789012', 'CIH', 'MA0002345678901234567890123456789012', 'CONMA', 'MAD'),
('TRAINING SERVICES', 'TRAIN2023', 'TRAIN2023RC', '0522-901234', 'training@services.ma', '321 Route formation, Casablanca', 'Casablanca', 'Maroc', '28000', 'actif', 'Prof. Ahmed', 30, '30 jours fin de mois', '345678901234567890123456789012', 'CIH', 'MA000345678901234567890123456789012', 'CIHMA', 'MAD'),
('MAINTENANCE SERVICES', 'MAINT2023', 'MAINT2023RC', '0522-678901', 'maintenance@services.ma', '876 Route maintenance, Tanger', 'Tanger', 'Maroc', '25000', 'actif', 'Karim Omar', 30, '30 jours fin de mois', '6789012345678901234567890123456789012', 'CIH', 'MA0006789012345678901234567890123456789012', 'CIHMA', 'MAD'),
');
